<!DOCTYPE html>
<html>

<head>
    <title>
        Cybereits邀请你来发糖果
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no,initial-scale=1.0"
    />
    <meta content="telephone=no" name="format-detection" />
    <link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="images/favicon.ico" type="image/vnd.microsoft.icon" />
    <link rel="icon" href="images/favicon.ico" type="image/vnd.microsoft.icon" />
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/sweetalert/1.1.3/sweetalert.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
    <style>
        html,
        body {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        .box {
            background: url(../../images/invite/background.jpg) no-repeat;
            background-position: top center;
            width: 100%;
            background-size: contain;
            background-color: #53449d;
            filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='../../images/invite/background.jpg', sizingMethod='scale');
            padding-top: 4.5rem;
            font-weight: bold;
            padding-bottom: 10px;
        }

        .bg-size {
            -webkit-background-size: cover !important;
            -moz-background-size: cover !important;
            -o-background-size: cover !important;
            background-size: cover !important;
        }

        .bg-size-second {
            height: 57px !important;
            width: 38% !important;
            background-repeat: no-repeat !important;
            background-position: center 8px !important;
            background-size: contain !important;
        }

        .input-container {
            margin-top: 24rem;
        }

        .candy-container {
            margin-top: 20.5rem;
        }

        .input-address {
            top: 99%;
            width: 17rem;
            height: 3rem;
            margin-left: 18%;
            margin-top: 8%;
        }

        .btn-try {
            margin-left: 18%;
            margin-top: 8%;
            width: 17rem;
            background: url(../../images/invite/btn_try.png);
            border: none;
            height: 3rem;
            background-color: transparent !important;
        }

        .paragraph-bg {
            text-align: center;
            top: 90%;
            background-color: gray;
            opacity: 0.3;
            color: white;
            font-weight: bold;
            margin-left: 8%;
            font-size: 0.8rem;
            width: 22rem;
        }

        .icon-init {
            width: 20%;
            margin-left: 10%;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        #creNumber {
            width: 17rem;
            height: 3rem;
            margin-left: 29%;
            margin-top: 3%;
            color: #FDE044;
            font-weight: bolder;
            font-size: 3rem;
        }

        .lbl-candy-code {
            margin-left: 28%;
            width: 6rem;
            color: white;
            font-weight: bolder;
            font-size: 1rem;
        }

        .lbl-candy-code-slash {
            width: 1rem;
            color: white;
            font-weight: bolder;
            font-size: 1rem;
        }

        #candyCode {
            width: 9rem;
            color: white;
            font-weight: bolder;
            font-size: 1rem;
        }

        .btn-to-telegram {
            margin-left: 11%;
            margin-top: 0%;
            width: 17rem;
            background: url(../../images/invite/toTelegram.png);
            border: none;
            height: 5rem;
            background-color: transparent !important;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .btn-to-biyong {
            margin-left: 3%;
            margin-top: 0%;
            width: 17rem;
            background: url(../../images/invite/toBiyong.png);
            border: none;
            height: 5rem;
            background-color: transparent !important;
            font-weight: bold;
            font-size: 0.8rem;
        }

        .div-paragraph {
            padding: 10px;
            color: white;
        }

        .div-paragrash-notice {
            width: 80%;
            margin-left: 10%;
            font-weight: 500;
        }

        .input-clip-board {
            background-color: transparent;
            border: none;
            width: 100px;
        }
    </style>
</head>

<body>
    <div class="box">
        <!-- input ETH address -->
        <div class="input-container div-input">
            <div class="form-group">
                <input type="text" class="form-control input-address" placeholder="请输入ETH钱包地址" />
            </div>
            <div class="form-group">
                <input type="button" class="form-control bg-size btn-try" id="winPrize" value="试试手气" />
            </div>
            <div class="form-group">
                <p class="paragraph-bg">*请不要拿我们的糖果和空气币去比，我们是有信仰的。</p>
            </div>
            <div class="form-group">
                <img src="../../images/invite/intro.png" style="width:100%;margin-top: 8.5rem;">
            </div>
            <div class="form-group">
                <img src="../../images/invite/tradingExchanges.png" style="width:100%;margin-top: 2rem;">
            </div>
            <div class="form-group">
                <img src="../../images/invite/officalWebsite.png" class="icon-init" data-href="https://cybereits.com/" id="officalWebsite"
                />
                <img src="../../images/invite/whitePaper.png" class="icon-init" data-href="https://cybereits.com/docs/CYBEREITS_White_Paper_v1.2.0.pdf"
                    id="whitePaper" />
                <img src="../../images/invite/telegram.png" class="icon-init" data-href="https://t.me/cybereits" id="telegramLink" />
            </div>
        </div>
        <!-- candy result -->
        <div class="candy-container div-candy" style="display:none;">
            <div class="form-group" style="margin-bottom: 0rem;">
                <span id="creNumber">0.00</span>
                <span style="color:white;font: size 2rem;">CRE</span>
            </div>
            <div class="form-group">
                <span class="lbl-candy-code">糖果码</span>
                <input type="text" class="input-clip-board copybtn1" value="/A12345678" id="candyCode">
            </div>
            <div class="form-group">
                <input type="button" id="toClipBoard" class="form-control bg-size btn-try" value="复制糖果码" readonly style="font-weight: bold;height: 2.5rem;margin-top:0rem"
                    onclick="myFunction()" readonly />
            </div>
            <div style="display:flex;">
                <input type="button" id="toTelegram" class="form-control bg-size-second btn-to-telegram" value="去Telegram领取" />
                <input type="button" id="toBiyong" class="form-control bg-size-second btn-to-biyong" value="去必用领取" />
            </div>
            <div class="form-group">
                <img src="../../images/invite/howGetPrize.png" style="width:100%;margin-top: 7rem;">
            </div>
            <div class="form-group">
                <div class="panel panel-default" style="border: 1px dashed white;width:80%;margin-left:10%;margin-top: 4rem;">
                    <div class="panel-body">
                        <div class="div-paragraph">
                            <div class="cols-sm-6">
                                <span style="color:white;font-weight: 500">提示：</span>
                            </div>
                            <div class="cols-sm-6">
                                <span style="color:white;font-weight: 500">&nbsp;&nbsp;&nbsp;&nbsp;没有Telegram可通过google市场搜索进行下载
                                    <br/>
                                </span>
                                <span style="color:white;font-weight: 500">&nbsp;&nbsp;&nbsp;&nbsp;无法翻墙可通过www.biyong.io下载【必用】进入社区
                                    <br/>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <img src="../../images/invite/activityNotification.png" style="width:100%;margin-top: 3rem;">
            </div>
            <div class="form-group" style="margin-top: 2.5rem;margin-bottom: 2.5rem;">
                <p class="div-paragrash-notice" style="color:white">1. 目前官方社区成员皆具备参与资格；</p>
                <p class="div-paragrash-notice" style="color:white">2. 参加抽奖的ETH地址仅限ETH钱包地址、Bit-Z与Bigone的CRE充值地址，其他的地址可能接受不到糖果；</p>
                <p class="div-paragrash-notice" style="color:white">3. 每个钱包地址仅限抽奖一次；</p>
                <p class="div-paragrash-notice" style="color:white">4. 每个Telegram账号仅限领取一次糖果；</p>
                <p class="div-paragrash-notice" style="color:white">5. 糖果码发送到Cybereits群聊中请勿携带其他字符；</p>
                <p class="div-paragrash-notice" style="color:white">6. 活动期间退出Cybereits官方社区群将视为领取资格无效</p>
                <p class="div-paragrash-notice" style="color:white">7. 活动结束后1~2工作日完成CRE糖果发放；</p>
                <p class="div-paragrash-notice" style="color:white">8. 本次活动的最终解释权归Cybereits官方所有</p>
            </div>
        </div>
    </div>
    <script src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/sweetalert/1.1.3/sweetalert.min.js"></script>
    <script>
        window.__INIT_STATE = {
            dataService: "<%= dataService %>"
        }
        let ethRex = /^0x[A-Fa-f0-9]{40}$/
        //To telegram
        $(document).on("click", "#toTelegram", function (e) {
            e.preventDefault();
            window.open("https://t.me/cybereits");
        });

        //To biyong
        $(document).on("click", "#toBiyong", function (e) {
            e.preventDefault();
            window.open("https://0.plus/cybereits");
        });

        //office website
        $(document).on("click", "#officalWebsite,#whitePaper,#telegramLink", function (e) {
            e.preventDefault();
            window.open($(this).data("href"));
        });

        //copy function
        function myFunction() {
            var copyDom = document.getElementById("candyCode");
            copyDom.focus();
            copyDom.setSelectionRange(0, copyDom.value.length);
            copyDom.execCommand('copy', true);
            copyDom.blur();
            swal("复制糖果码成功");
            // var clipboard = new Clipboard('.copybtn1');
            // clipboard.on('success', function (e) {
            //     swal("复制糖果码成功");
            // });
            // clipboard.on('error', function (e) {
            //     swal("复制糖果码失败");
            // });
        }

        //participe reward
        $(document).on("click", "#winPrize", function (e) {
            e.preventDefault();
            var ethAddress = $(".input-address").val();
            if (!ethRex.test(ethAddress)) {
                swal('请输入正确的eth地址');
                return false;
            }

            fetch(window.__INIT_STATE.dataService, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    eth_address: ethAddress
                })
            }).then((res) => res.json())
                .then(res => {
                    if (res.error) {
                        swal(res.error);
                    }
                    else {
                        $(".div-input").hide();
                        $(".div-candy").removeAttr("style");
                        $("#candyCode").val('/A' + res.result.code);
                        $("#creNumber").text(res.result.amount);
                    }
                })
        });
    </script>
</body>

</html>